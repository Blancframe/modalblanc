!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.Modalblanc=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function typeOfAnimation(type,typeClass){var animationTypes={slide:["slide-next","slide-back"],scale:["scale-next","scale-back"]},animationClass=animationTypes[type];return void 0===type?2===typeClass?animationTypes.slide[1]:animationTypes.slide[0]:2===typeClass?animationClass[1]:animationClass[0]}function transitionPrefix(elm){var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==elm.style[name])return{end:transEndEventNames[name]}}function setEvents(){var nextButton=document.getElementById("modal-button-next"),prevButton=document.getElementById("modal-button-prev"),closed=document.getElementsByClassName("modal-fullscreen-close"),_this=this;this.classEventListener(closed,function(){_this.close()}),null!==this.options.sideTwo.content&&(nextButton.addEventListener("click",this._contentNext.bind(this)),prevButton.addEventListener("click",this._contentPrevious.bind(this)))}function build(){this.options.closeButton===!0?this.closeButton='<span class="modal-fullscreen-close">X</span>':this.closeButton="";var modalId,tmpl='<div id="overlay-modal-blanc" class="modal-fullscreen-background '+this.options.animation+' is-active"><div id="modal-fullscreen-container"class="modal-fullscreen-container big-modal"><div id="card"><div class="front"><div id="front-card" class="modal-fullscreen-item">'+this.closeButton+contentType(this.options.content)+'</div></div><div class="back"><div  id="back-card" class="modal-fullscreen-item">'+this.closeButton+contentType(this.options.sideTwo.content)+"</div></div></div></div></div>",body=document.getElementsByTagName("body");body[0].id?modalId=body[0].id:(modalId="go-modal",body[0].id=modalId),stringAsNode(document.getElementById(modalId),tmpl),this.settings.modalOpen=!0,null!==this.options.sideTwo.content&&(buildButton(this.options.sideTwo.button),buildButton(this.options.sideTwo.buttonBack,"back"))}function buildElement(buildOptions){var createElm,parentElm;createElm=document.createElement(buildOptions.elm),createElm.id=buildOptions.buttonId,createElm.innerHTML=buildOptions.buttonText,parentElm=document.getElementById(buildOptions.parentId),parentElm.appendChild(createElm)}function buildButton(elm){if(null===elm||void 0===elm){if(document.getElementById("modal-button-next")||document.getElementById("modal-button-prev"))return;buildElement({elm:"a",buttonId:"modal-button-next",buttonText:"Next step",parentId:"front-card"}),buildElement({elm:"a",buttonId:"modal-button-prev",buttonText:"Previous step",parentId:"back-card"})}else buildElement({elm:elm.element,buttonId:elm.id,buttonText:elm.text,parentId:elm.parent})}function contentType(contentValue){return"string"==typeof contentValue?contentValue:null===contentValue?"":contentValue.innerHTML}function stringAsNode(element,html){if(null!==html){var child,frag=document.createDocumentFragment(),tmp=document.createElement("body");for(tmp.innerHTML=html;child=tmp.firstChild;)frag.appendChild(child);element.appendChild(frag),frag=tmp=null}}function extendDefault(source,properties){var property;for(property in properties)properties.hasOwnProperty(property)&&(source[property]=properties[property]);return source}var Modalblanc=function(){if(!(this instanceof Modalblanc))return new Modalblanc;this.closeButton=null,this.overlay=null;var defaults={animation:"fade-in-out",closeButton:!0,content:"",sideTwo:{content:null,images:["http://placehold.it/350x150","http://placehold.it/350x150","http://placehold.it/350x150"],animation:null,button:null,buttonBack:null}};this.settings={},arguments[0]&&"object"==typeof arguments[0]&&(this.options=extendDefault(defaults,arguments[0]))};Modalblanc.prototype.open=function(){this.settings.modalOpen||(build.call(this),setEvents.call(this))},Modalblanc.prototype.close=function(){if(this.settings.modalOpen){var overlay=document.getElementById("overlay-modal-blanc"),_this=this;overlay.classList.remove("is-active"),overlay.classList.add("is-inactive");var transPrefix=transitionPrefix(overlay);overlay.addEventListener(transPrefix.end,function(){this.remove(),_this.settings.modalOpen=!1},!1)}},Modalblanc.prototype._contentNext=function(){var card=document.getElementById("card"),customClass=this.options.sideTwo.animation;card.classList.remove(typeOfAnimation(customClass,2)),card.classList.add(typeOfAnimation(customClass))},Modalblanc.prototype._contentPrevious=function(){var card=document.getElementById("card"),customClass=this.options.sideTwo.animation;card.classList.remove(typeOfAnimation(customClass)),card.classList.add(typeOfAnimation(customClass,2))},Modalblanc.prototype.classEventListener=function(elm,callback){for(var i=0;i<elm.length;i++)elm[i].addEventListener("click",function(){callback()})},module.exports=Modalblanc},{}]},{},[1])(1)});
